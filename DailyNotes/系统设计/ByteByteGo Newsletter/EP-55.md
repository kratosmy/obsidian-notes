---
title: ByteByteGo Newsletter Summary
date: 2023-08-14 22:44:41
tags: System Design
---

## EP 55

### 为什么需要消息服务器(message broker)

![[Pasted image 20230814213936.png]]

- 与发送者解耦，独立开发、部署、维护，方便排查问题；
- 异步通信，更加高效，不易阻塞；
- 提供数据持久化服务，提高容错性；
- 方便横向扩展。


### 输入“ssh ${hostname}”后发生了什么


![[Pasted image 20230814222159.png]]

1. 首先通过DNS解析获取服务器的ip地址；
2. 建立TCP连接；
3. 交换协议具体信息、加密算法等；
4. 验证服务器公钥（是否在know_hosts中）；
5. 验证客户端密码/公钥；
```
PRIVKEY=id_rsa
TESTKEY=id_rsa.pub
diff <( ssh-keygen -y -e -f "$PRIVKEY" ) <( ssh-keygen -y -e -f "$TESTKEY" )
```

6. 启动Shell。

# TCM业务理解

1. `ProductServer` :
   - `product_service` : 产品数据、权限的增删改查，其中查询功能支持与TAPD、业务名称进行关联；
   - `business_service` : 业务数据的增删改查，其中查询功能支持多种条件（用户ID、EPS子业务、蓝盾项目ID等），以及将TCM业务与第三方平台相关联。还有一些基础的统计分析功能，但不够全面；
   - `tapd_service` : 建议TAPD工作区和产品的关联关系并且支持直接操作一些TAPD的简单功能，此处也可以进一步拓展；
   - `recycle_service`: 回收站内容的增删改查；
   - `client_auth_service`: 用户TOKEN的增删改查。
1. `CaseService`:
   - `TestCaseTRPCService`:
      - 测试用例的增删改查，其中查询功能支持根据ID、手工用例关联的Label、组合条件进行查询，其中`SearchCases` 和`PickTestCases` 无具体实现，应该是功能重复了；
      - 对其它一些杂项的查询，包括：版本信息、测试计划、TAPD列表、用例的历史记录、历史用例、新添加的接口、用例的修改记录等；
      - 支持一些批量操作，包括更改或删除测试用例的一些属性、添加业务、关联自动化用例等；
      - 支持与TAPD绑定/解绑；
      - 用例文件的上传以及上传后的解析；
   - `TestSuiteTRPCService` :
      - 用例集的增删改查；
      - 节点的删除、展开、被删除节点的检查、复制、移动等操作；
      - 从第三方导入/导出用例集，包括：TAPD、Excel、XMind、Markdown；
   - `CustomFieldTRPCService`:
      - 自定义字段的增删查改
   - `CaseReviewTRPCService`:
      - 评审的发起、更新、查询和技术；
      - 评论的添加、删除；
      - 总结的增删查改；
      - 这里支持关联TAPD的手工用例，是否应该将手工用例相关的服务都转到手工服务？
   - `PlatformManageService`:
      - 平台信息的增删查改；
      - 检验平台名字的唯一性。
   - `AutoCaseSuiteService` :
      - 自动化用例、用例集信息的增删查改，其中查询条件比较多样化，比如通过仓库、分支信息获取用例集以及下面的用例信息；
      - 通过第三方平台调用，查询、上报、删除自动化用例；
      - 自动化用例树节点的增删改查；
      - 获取一些杂项信息，包括：Git信息、过滤相关的Options等
   - `EpsService` :
      - 分别对自动化用例和手工用例一些基本EPC属性进行统计，包括：用例自动化率、用例数、用例稳定性、黑盒白盒用例信息、版本包用例等。
   - `LabelTRPCService`:
      - 标签的增删查改（暂无直接打标签场景）。
   - `OpenApiTRPCServiceService`:
      - 提供一些对外接口，包括：废弃用例、查询需求下的自动化率、手工用例关联自动化率等。
   - `RecycleService`:
      - 恢复回收站内容。
1. `PlanService` :
   - `TestCycleService`:
      - 测试周期的增删查改；
      - 根据测试周期查询下面的测试相关数据，包括测试计划、用例Owner等。
   - `TestPlanService`:
      - 测试计划的增删查改、归档等；
      - 查询测试计划相关联的一些信息，包括：所有测试活动、关联缺陷等。
   - `ExecutecaseService`:
      - 执行用例、测试缺陷的查询以及相关信息的更新和统计；
      - 支持用例的多种分配方式。
   - `AutoPlanService`:
      - 自动化测试计划的增删查改；
      - 用例的查询以及执行；
      - 获取任务相关的一些数据，包括：缺陷、失败原因、执行状态、业务ID等。
   - `DataStatisticsService`:
      - 统计缺陷、用例等信息，并支持仪表盘显示；
      - 获取缺陷趋势报告和测试计划报告；
      - 通过和TAPD关联查询相关信息。
1. `ManualCaseService`:
   - `ManualTestCaseService`:
      - 用例信息的查询、挑选、导出和归档。
   - `ManualTestSuiteService`:
      - 用例集的归档、展开、查询和还原。
   - `IndexReport`:
      - 上报指标到DataTalk。
   - `TAPD`:
      - 根据条件查询下面的迭代或需求；
      - 根据需求查询用例。

